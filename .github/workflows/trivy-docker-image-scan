name: Trivy-Docker
on:
  workflow_call:     
      - name: Build an image from Dockerfile
        run: |
          docker build -t verdant-sphere:latest .
      
      - name: Run Trivy vulnerability scanner
        uses: aquasecurity/trivy-action@master
        with:
          image-ref: ${{ inputs.image-ref }}
          format: ${{ inputs.format }}
          vuln-type: ${{ inputs.vuln-type }}
          severity: ${{ inputs.everity }}